(()=>{var e={733:(e,t,s)=>{const l=s(643),i=Array.from({length:10},((e,t)=>t)).map((e=>10*e)),c=i.map((e=>e+9));e.exports=class{constructor(){this._shipList=[],this._occupiedBoardCells=[],this._missedShotsCells=[]}randomNumber(e){return Math.floor(Math.random()*e)}placeShip(e,t,s,i){i=Number(i);const c=this.calculateShipPlacement(t,s,i);if(this.checkWallCollisions(c,s)&&this.checkShipCollisions(c,s)){this._occupiedBoardCells=this._occupiedBoardCells.concat(c);const s=new l(e,t,c);return this._shipList.push(s),console.log(this._shipList),!0}return!1}calculateShipPlacement(e,t,s){const l=[];for(let i=0;i<e;i++)t?l.push(s+i):l.push(s+10*i);return l}checkWallCollisions(e,t){let s;if(t&&void 0===s){let t=e.slice(1);for(let e=1;e<11;e++){for(let l of t)if(l===11*e-e){s=!0;break}if(s)break}}else e[e.length-1]>99&&(s=!0);return!s}checkShipCollisions(e,t){let s,l=[].concat(e);if(t)for(let t=0;t<e.length;t++)0!==t||i.includes(e[0])?t!==e.length-1||c.includes(e[e.length-1])||(l.push(e[t]-9),l.push(e[t]+1),l.push(e[t]+11)):(l.push(e[t]-11),l.push(e[t]-1),l.push(e[t]+9)),l.push(e[t]-10),l.push(e[t]+10);else for(let t=0;t<e.length;t++)0===t?(l.push(e[t]-11),l.push(e[t]-10),l.push(e[t]-9)):t===e.length-1&&(l.push(e[t]+9),l.push(e[t]+10),l.push(e[t]+11)),l.push(e[t]-1),l.push(e[t]+1);for(let e of l)if(this._occupiedBoardCells.includes(e)){s=!0;break}return!s}receiveShot(e){return e=Number(e),this._occupiedBoardCells.includes(e)?(this._shipList.find((t=>t.cellsOccupied.includes(e))).getShot(e),!0):(this._missedShotsCells.push(e),!1)}checkAllShipStatus(){return this._shipList.every((e=>e.isSunk()))}get shipList(){return this._shipList}get occupiedBoardCells(){return this._occupiedBoardCells}get missedShotsCells(){return this._missedShotsCells}}},507:e=>{e.exports=class{constructor(e=!1){this._isAI=e,this._shotCells=[]}takeShot(e){if(this._isAI){let t=null;for(;!t||this._shotCells.includes(t);)t=Math.floor(Math.random()*e);return this._shotCells.push(t),t}this._shotCells.push(e)}get isAI(){return this._isAI}get shotCells(){return this._shotCells}}},643:e=>{e.exports=class{constructor(e,t,s){this._name=e,this._size=t,this._cellsOccupied=s,this._hits=[]}isSunk(){return this._cellsOccupied.every((e=>this._hits.includes(e)))}getShot(e){this._hits.push(e)}get shipSize(){return this._size}get hitsTaken(){return this._hits}get cellsOccupied(){return this._cellsOccupied}}}},t={};function s(l){var i=t[l];if(void 0!==i)return i.exports;var c=t[l]={exports:{}};return e[l](c,c.exports,s),c.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var l in t)s.o(t,l)&&!s.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=s(507),t=s.n(e),l=s(733),i=s.n(l);const c=document.getElementsByName("shipType"),o=document.getElementById("horizontal"),n=document.getElementById("start"),r=document.getElementById("restart"),h=document.querySelector(".shipControls");let a,d,u,p,m,f,_;function g(){_=!1,h.style.display="flex",S(),C()}function S(){const e=document.querySelectorAll("input[name=shipType]");for(let t=0;t<e.length;t++)e[t].checked=!1,e[t].disabled=_,o.checked=!0,o.disabled=_}function y(){const e=document.querySelector(".gameboards");e.innerHTML="";const t=document.createElement("div");t.id="humanBoard",t.className="board";for(let e=0;e<100;e++){let s=document.createElement("div");s.id="p_"+e,s.classList.add("cellHuman"),a.occupiedBoardCells.includes(e)&&s.classList.add("ship"),t.append(s)}e.append(t),document.querySelectorAll(".cellHuman").forEach((e=>{e.addEventListener("click",(e=>{!function(e,t,s,l){var i;e&&t?a.placeShip(e,t,s,l)?(a.placeShip(e,t,s,l),i=e,document.getElementById(i).checked=!1,document.getElementById(i).setAttribute("disabled",!0),m=null,f=null,y()):alert("Incorrect ship placement!"):alert("Pick a ship to place!")}(m,f,o.checked,e.target.id.split("_")[1])}))}))}function v(){const e=document.querySelector(".gameboards");let t=e.cloneNode(!0);e.parentNode.replaceChild(t,e)}function C(){a=new(i())(!1),d=new(t())(!1,!0),u=new(i())(!0),p=new(t())("EasyAI",!0,!1),y()}n.addEventListener("click",(function(){if(!_){_=!0;const e=document.getElementById("humanBoard");let t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),h.style.display="none",o.disabled=_,S(),function(){const e=document.querySelector(".gameboards"),t=document.createElement("div");t.id="computerBoard",t.className="board";for(let e=0;e<100;e++){let s=document.createElement("div");s.id="c_"+e,s.classList.add("cellComputer"),u.occupiedBoardCells.includes(e)&&s.classList.add("ship"),t.append(s)}e.append(t)}(),document.querySelectorAll(".cellComputer").forEach((e=>{e.addEventListener("click",(function e(t){t.target.classList.add("shot"),t.target.removeEventListener("click",e);let s=t.target.id.split("_")[1];u.receiveShot(s),u.checkAllShipStatus()?confirm("You have won! Play again?")?g():v():(document.querySelectorAll(".cellHuman")[p.takeShot(100)].classList.add("shot"),a.receiveShot(),a.checkAllShipStatus()&&(confirm("You have lost! Play again?")?g():v()))}))}))}})),r.addEventListener("click",g),c.forEach((e=>{e.addEventListener("click",(e=>{m=e.target.id,f=e.target.value}))})),C()})()})();