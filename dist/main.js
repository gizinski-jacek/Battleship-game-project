(()=>{var e={733:(e,s,t)=>{const i=t(643),l={shipS:{name:"S",size:2},shipM:{name:"M",size:3},shipL:{name:"L",size:4},shipX:{name:"X",size:5}};e.exports=class{constructor(e=!1){this._occupiedCells=[],this._missedShotsCells=[],this._shipList=[],this._isAIBoard=e}placeShip(e,s,t){this._isAIBoard&&(t=this.randomNumber());let h=[];for(let i=0;i<l[e].size;i++)s?h.push(t+i):h.push(t+10*i);if(!this.checkShipCollisions(h,s)||!this.checkWallCollisions(h,s))return!1;{this._occupiedCells=this._occupiedCells.concat(h);let s=new i(l[e],h);this._shipList.push(s)}}checkShipCollisions(e,s){let t=[].concat(e);if(s)for(let s=0;s<e.length;s++)0===s?(t.push(e[s]-11),t.push(e[s]-1),t.push(e[s]+9)):s===e.length-1&&(t.push(e[s]-9),t.push(e[s]+1),t.push(e[s]+11)),t.push(e[s]-10),t.push(e[s]+10);else for(let s=0;s<e.length;s++)0===s?(t.push(e[s]-11),t.push(e[s]-10),t.push(e[s]-9)):s===e.length-1&&(t.push(e[s]+9),t.push(e[s]+10),t.push(e[s]+11)),t.push(e[s]-1),t.push(e[s]+1);let i=[];return t.forEach((e=>{i.push(this._occupiedCells.includes(e))})),!i.some((e=>1==e))||(console.log("ship collision"),!1)}checkWallCollisions(e,s){let t,i=e[e.length-1];if(s)for(let e=1;e<=10;e++)i===11*e-e&&(console.log("out of right side bounds"),t=!0);else i>=100&&(console.log("out of bottom side bounds"),t=!0);return!t}randomNumber(){return Math.floor(100*Math.random())}receiveShot(e){this._occupiedCells.includes(e)?this._shipList.filter((s=>s.getCellsOccupied.includes(e)))[0].getShot(e):this._missedShotsCells.push(e)}checkSunkenShips(){let e=[];return this._shipList.forEach((s=>{e.push(s.isSunk())})),e.every((e=>1==e))}get getOccupiedCells(){return this._occupiedCells}get getMissedShotsCells(){return this._missedShotsCells}get getShipList(){return this._shipList}get isAIBoard(){return this._isAIBoard}}},507:e=>{e.exports=class{constructor(e,s=!1){this._name=e,this._isAI=s,this._shotCells=[]}takeShot(e){if(this._isAI){let s=null;for(;null===s||this._shotCells.includes(s);)s=Math.floor(Math.random()*e);return this._shotCells.push(s),s}this._shotCells.push(e)}get getName(){return this._name}get getShotCells(){return this._shotCells}}},643:e=>{e.exports=class{constructor(e,s){this._name=e.name,this._size=e.size,this._cellsOccupied=s,this._hits=[]}isSunk(){let e=this._hits.sort(((e,s)=>e-s));return JSON.stringify(this._cellsOccupied)===JSON.stringify(e)}getShot(e){this._hits.push(e)}get getSize(){return this._size}get getHits(){return this._hits}get getCellsOccupied(){return this._cellsOccupied}}}},s={};function t(i){var l=s[i];if(void 0!==l)return l.exports;var h=s[i]={exports:{}};return e[i](h,h.exports,t),h.exports}t.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return t.d(s,{a:s}),s},t.d=(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{"use strict";var e=t(507),s=t.n(e),i=t(733),l=t.n(i);let h,o,c,r;!function e(){h=new(l())(!1),o=new(s())("Tony",!1,!0),h.placeShip("shipX",!0,5),h.placeShip("shipL",!0,20),h.placeShip("shipM",!1,50),h.placeShip("shipS",!1,54),c=new(l())(!0),r=new(s())("EasyAI",!0,!1),c.placeShip("shipX",!0),c.placeShip("shipL",!0),c.placeShip("shipM",!1),c.placeShip("shipS",!1),function(e,s){const t=document.getElementById("playerBoard");t.innerHTML="";for(let s=0;s<100;s++){let i=document.createElement("div");i.id="p_"+s,i.classList.add("cellPlayer"),e.includes(s)&&i.classList.add("ship"),t.append(i)}const i=document.getElementById("computerBoard");i.innerHTML="";for(let e=0;e<100;e++){let t=document.createElement("div");t.id="c_"+e,t.classList.add("cellComp"),s.includes(e)&&t.classList.add("ship"),i.append(t)}}(h.getOccupiedCells,c.getOccupiedCells),document.querySelectorAll(".cellComp").forEach((s=>{s.addEventListener("click",(function s(t){t.currentTarget.classList.add("shot"),t.currentTarget.removeEventListener("click",s),c.receiveShot(Number(t.currentTarget.id.split("_")[1])),c.checkSunkenShips()?confirm("You have won! Play again?")&&e():function(){const s=document.querySelectorAll(".cellPlayer");let t=r.takeShot(100);h.receiveShot(t),s[t].classList.add("shot"),h.checkSunkenShips()&&confirm("You have lost! Play again?")&&e()}()}))}))}()})()})();