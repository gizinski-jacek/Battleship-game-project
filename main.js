(()=>{var e={733:(e,t,s)=>{const l=s(643),c=Array.from({length:10},((e,t)=>t)).map((e=>10*e)),i=c.map((e=>e+9));e.exports=class{constructor(){this._shipList=[],this._occupiedBoardCells=[],this._missedShotsCells=[]}randomNumber(e){return Math.floor(Math.random()*e)}placeShip(e,t,s){if(this._occupiedBoardCells.includes(s))return!1;e=Number(e),s=Number(s);const c=this.calculateShipPlacement(e,t,s);if(this.checkWallCollisions(c,t)&&this.checkShipCollisions(c,t)){this._occupiedBoardCells=this._occupiedBoardCells.concat(c);const t=new l(e,c);return this._shipList.push(t),!0}return!1}calculateShipPlacement(e,t,s){const l=[];for(let c=0;c<e;c++)t?l.push(s+c):l.push(s+10*c);return l}checkWallCollisions(e,t){let s;if(t&&void 0===s){let t=e.slice(1);for(let e=1;e<11;e++){for(const l of t)if(l===11*e-e){s=!0;break}if(s)break}}else e[e.length-1]>99&&(s=!0);return!s}checkShipCollisions(e,t){let s,l=[].concat(e);if(t)for(let t=0;t<e.length;t++)0!==t||c.includes(e[0])?t!==e.length-1||i.includes(e[e.length-1])||(l.push(e[t]-9),l.push(e[t]+1),l.push(e[t]+11)):(l.push(e[t]-11),l.push(e[t]-1),l.push(e[t]+9)),l.push(e[t]-10),l.push(e[t]+10);else for(let t=0;t<e.length;t++)0===t?(l.push(e[t]-11),l.push(e[t]-10),l.push(e[t]-9)):t===e.length-1&&(l.push(e[t]+9),l.push(e[t]+10),l.push(e[t]+11)),l.push(e[t]-1),l.push(e[t]+1);for(const e of l)if(this._occupiedBoardCells.includes(e)){s=!0;break}return!s}receiveShot(e){return e=Number(e),this._occupiedBoardCells.includes(e)?(this._shipList.find((t=>t.cellsOccupied.includes(e))).getShot(e),!0):(this._missedShotsCells.push(e),!1)}checkAllShipStatus(){return this._shipList.every((e=>e.isSunk()))}get shipList(){return this._shipList}get occupiedBoardCells(){return this._occupiedBoardCells}get missedShotsCells(){return this._missedShotsCells}}},507:e=>{e.exports=class{constructor(e=!1){this._isAI=e,this._shotCells=[]}takeShot(e){if(this._isAI){let t=null;for(;!t||this._shotCells.includes(t);)t=Math.floor(Math.random()*e);return this._shotCells.push(t),t}this._shotCells.push(e)}get isAI(){return this._isAI}get shotCells(){return this._shotCells}}},643:e=>{e.exports=class{constructor(e,t){this._size=e,this._cellsOccupied=t,this._hits=[]}isSunk(){return this._cellsOccupied.every((e=>this._hits.includes(e)))}getShot(e){this._hits.push(e)}get shipSize(){return this._size}get hitsTaken(){return this._hits}get cellsOccupied(){return this._cellsOccupied}}}},t={};function s(l){var c=t[l];if(void 0!==c)return c.exports;var i=t[l]={exports:{}};return e[l](i,i.exports,s),i.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var l in t)s.o(t,l)&&!s.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=s(507),t=s.n(e),l=s(733),c=s.n(l);const i=document.getElementsByName("shipType"),r=document.getElementById("horizontal"),o=document.getElementById("start"),n=document.getElementById("restart"),a=document.querySelector(".shipControls"),h=document.querySelector(".gameboards");let d,u,p,m,f=!1,S=document.querySelector("input[name=shipType]:checked").value;function v(){if(!f){f=!0;const e=document.getElementById("humanBoard"),t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),a.style.display="none",g(),i.forEach((e=>{let t,s,l=0;do{if(t=p.randomNumber(2),s=p.randomNumber(100),p.placeShip(e.value,t,s))break;l++}while(!p.placeShip(e.value,t,s)||l<100)})),function(){const e=document.createElement("div");e.id="computerBoard",e.className="board";for(let t=0;t<100;t++){let t=document.createElement("div");t.classList.add("cellComputer"),e.append(t)}h.appendChild(e)}(),document.querySelectorAll(".cellComputer").forEach(((e,t)=>{e.addEventListener("click",(function s(l){l.target.classList.add("shot"),l.target.removeEventListener("click",s),p.receiveShot(t)&&e.classList.add("ship"),p.checkAllShipStatus()?confirm("You have won! Play again?")?k():y():(document.querySelectorAll(".cellHuman")[m.takeShot(100)].classList.add("shot"),d.receiveShot(),d.checkAllShipStatus()&&(confirm("You have lost! Play again?")?k():y()))}))}))}}function k(){f=!1,a.style.display="flex",g(),C()}function g(){const e=document.querySelectorAll("input[name=shipType]");for(let t=0;t<e.length;t++)e[t].checked=!1,e[t].disabled=f,r.disabled=f,S=null;f||(e[0].checked=!0,e[0].disabled=f,r.checked=!0,S=e[0].value)}function _(){h.innerHTML="";const e=document.createElement("div");e.id="humanBoard",e.className="board";for(let t=0;t<100;t++){let s=document.createElement("div");s.classList.add("cellHuman"),d.occupiedBoardCells.includes(t)&&s.classList.add("ship"),e.append(s)}h.append(e),document.querySelectorAll(".cellHuman").forEach(((e,t)=>{e.addEventListener("click",(()=>{!function(e,t,s){e?d.placeShip(e,t,s)?(function(){for(let[e,t]of i.entries())if(t.checked&&!t.disabled){if(t.checked=!1,t.disabled=!0,document.querySelectorAll("input[name=shipType]:disabled").length===i.length){v();break}do{e++,e>=i.length&&(e=0)}while(i[e].disabled);i[e].checked=!0,S=i[e].value;break}}(),_()):alert("Incorrect ship placement!"):alert("Pick a ship to place!")}(S,r.checked,t)}))})),function(){const e=document.querySelectorAll(".cellHuman");e.forEach(((t,s)=>{t.addEventListener("mouseenter",(()=>{if(S)if(r.checked){let t=d.calculateShipPlacement(S,r.checked,s);t=t.filter((e=>e<100)),t.forEach((t=>{e[t].classList.add("hoverShip")}))}else{let t=d.calculateShipPlacement(S,r.checked,s);t=t.filter((e=>e<100)),t.forEach((t=>{e[t].classList.add("hoverShip")}))}})),t.addEventListener("mouseleave",(()=>{e.forEach((e=>{e.classList.remove("hoverShip")}))}))}))}()}function y(){const e=document.querySelector(".gameboards");let t=e.cloneNode(!0);e.parentNode.replaceChild(t,e)}function C(){d=new(c())(!1),u=new(t())(!1),p=new(c())(!0),m=new(t())(!0),_()}o.addEventListener("click",v),n.addEventListener("click",k),i.forEach((e=>{e.addEventListener("click",(e=>{S=e.target.value}))})),C()})()})();